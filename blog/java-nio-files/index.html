<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.14.0"/><meta data-react-helmet="true" name="description" content="When Java introduced the java.nio.file package for working with files (in version 1.7), Java did not deprecate the existing java.io.File type. Is there a reason to prefer one of these seemingly duplicative strategies for working with files? I argue there is.
"/><meta data-react-helmet="true" property="og:title" content="‚òïÔ∏è Reasons to Prefer Java&#x27;s New I/O for Working With Files"/><meta data-react-helmet="true" property="og:description" content="When Java introduced the java.nio.file package for working with files (in version 1.7), Java did not deprecate the existing java.io.File type. Is there a reason to prefer one of these seemingly duplicative strategies for working with files? I argue there is.
"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="jdgilday"/><meta data-react-helmet="true" name="twitter:title" content="‚òïÔ∏è Reasons to Prefer Java&#x27;s New I/O for Working With Files"/><meta data-react-helmet="true" name="twitter:description" content="When Java introduced the java.nio.file package for working with files (in version 1.7), Java did not deprecate the existing java.io.File type. Is there a reason to prefer one of these seemingly duplicative strategies for working with files? I argue there is.
"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><title data-react-helmet="true">‚òïÔ∏è Reasons to Prefer Java&#x27;s New I/O for Working With Files | Johnathan Gilday</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:42.72rem;padding:2.67rem 1.335rem"><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.78 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia',serif;font-weight:300;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:2.2974rem;line-height:2.67rem;letter-spacing:-2px;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}ul{margin-left:1.78rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.78rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;font-size:0.85rem;line-height:1.78rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;font-size:1rem;line-height:1.78rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}blockquote{margin-left:0;margin-right:1.78rem;margin-top:0;padding-bottom:0;padding-left:1.44625rem;padding-right:0;padding-top:0;margin-bottom:1.78rem;font-size:1.1487rem;line-height:1.78rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.33375rem solid hsla(0,0%,0%,0.2);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.78rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.78rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.78rem;margin-bottom:calc(1.78rem / 2);margin-top:calc(1.78rem / 2);}li > ul{margin-left:1.78rem;margin-bottom:calc(1.78rem / 2);margin-top:calc(1.78rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.78rem / 2);}code{font-size:0.85rem;line-height:1.78rem;}kbd{font-size:0.85rem;line-height:1.78rem;}samp{font-size:0.85rem;line-height:1.78rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.18667rem;padding-right:1.18667rem;padding-top:0.89rem;padding-bottom:calc(0.89rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#f92300;text-decoration:none;}a:hover,a:active{text-decoration:underline;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.78rem;color:hsla(0,0%,0%,0.9);font-weight:300;}blockquote cite:before{content:"‚Äî ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.78rem;}blockquote{margin-left:-1.335rem;margin-right:0;padding-left:1.00125rem;}}@media only screen and (max-width:768px){h1{font-size:2rem;line-height:2.67rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.56rem;}a.gatsby-resp-image-link{box-shadow:none;}@media (prefers-color-scheme: dark){body{background-color:#121212;color:#ffffff;}a{color:#06ff68;}a.gatsby-resp-image-link{box-shadow:none;}blockquote{border-left-color:rgba(6, 255, 104);color:rgba(6, 255, 104, 0.64);}}</style><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a href="/blog/">/ gilday / blog</a></h3></header><main><article><header><h1 style="margin-top:1.78rem;margin-bottom:0">‚òïÔ∏è Reasons to Prefer Java&#x27;s New I/O for Working With Files</h1><p style="font-size:0.87055rem;line-height:1.78rem;display:block;margin-bottom:1.78rem">January 16, 2023</p></header><section><p>If you‚Äôre like me, you associate the <code>java.nio</code> package introduced in Java 1.7
with nonblocking IO. For years, I ignored the <code>java.nio.file</code> sub-package,
because I was not working with the nonblocking IO types in <code>java.nio</code>. I wrongly
assumed that meant I did not need to consider the types in <code>java.nio.file</code>. What
I eventually came to learn is the ‚Äún‚Äù in <code>java.nio</code> <strong>does not</strong> stand for
<em>nonblocking</em>; rather, it stands for <em>new</em> (according to
<a href="https://jcp.org/en/jsr/detail?id=51">JSR 51</a>).</p>
<p>Referring to <code>java.nio.file</code>, JSR 51 says it introduces ‚Äúan improved file system
interface‚Äù. More than a decade after the release of this improved file system
interface, I find that Java developers still feel more comfortable writing code
that uses <code>java.io.File</code> instead. In this article, we‚Äôll explore some reasons
why it‚Äôs time to consider using <code>java.nio.file</code> instead of <code>java.io.File</code> in
your next Java project.</p>
<h2>Error Handling</h2>
<p>Consider the following <code>java.io.File</code> code for creating a directory:</p>
<pre class="grvsc-container solarized-light grvsc-mm-t6zo1R" data-language="java" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">var</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">dir</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-8 grvsc-t6zo1R-9">=</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-8 grvsc-t6zo1R-9">new</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">File</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">(</span><span class="grvsc-tiaGIi-11 grvsc-t6zo1R-12">&quot;my-new-directory&quot;</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-8 grvsc-t6zo1R-9">if</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> (</span><span class="grvsc-tiaGIi-8 grvsc-t6zo1R-9">!</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">file</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">.</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">mkdir</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">()) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">  </span><span class="grvsc-tiaGIi-3 grvsc-tiaGIi-i grvsc-t6zo1R-3 grvsc-t6zo1R-i">// failed to make directory, handle error</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">}</span></span></span></code></pre>
<p>Note the error case. The <code>mkdir</code> method returns a boolean that indicates whether
the directory was created. It‚Äôs too easy for developers to forget to check the
boolean returned by <code>mkdir</code> and handle this case.</p>
<p>Even when developers do remember to check the returned boolean, all they know is
that the directory wasn‚Äôt created. They can‚Äôt know if this is an error they
should ignore or not. Was the directory not created, because the directory
already exists or because someone ripped the hard drive out? We can‚Äôt tell.</p>
<p>Rather than returning a boolean, throwing an exception is an idiomatic way to do
error handling in Java. The <code>java.nio.file</code> APIs throw exceptions to communicate
errors. Consider the same code using <code>java.nio.file</code>:</p>
<pre class="grvsc-container solarized-light grvsc-mm-t6zo1R" data-language="java" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">var</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">dir</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-8 grvsc-t6zo1R-9">=</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">Paths</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">.</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">get</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">(</span><span class="grvsc-tiaGIi-11 grvsc-t6zo1R-12">&quot;my-new-directory&quot;</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-8 grvsc-t6zo1R-9">try</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">    </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">Files</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">.</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">createDirectory</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">(dir);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">} </span><span class="grvsc-tiaGIi-8 grvsc-t6zo1R-9">catch</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> (</span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">FileAlreadyExistsException</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> ignored) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">} </span><span class="grvsc-tiaGIi-8 grvsc-t6zo1R-9">catch</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> (</span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">IOException</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> e) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">  </span><span class="grvsc-tiaGIi-3 grvsc-tiaGIi-i grvsc-t6zo1R-3 grvsc-t6zo1R-i">// something horrible has happened</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">}</span></span></span></code></pre>
<p>Here, we can use different exception types to handle cases differently. There‚Äôs
more information communicated in these exceptions than simply a returned
<code>false</code>.</p>
<p>This example only considered the ‚Äúcreating a directory‚Äù use case, but this
pattern may be found throughout the APIs for working with the file system.
‚ÄúBetter error handling‚Äù is an improvement that any Java program can benefit
from.</p>
<h2>File System Abstraction</h2>
<p>The <code>java.nio.file</code> package introduces a <code>FileSystem</code> abstraction for modeling a
file system. Of course, most use cases will only ever use the default
<code>FileSystem</code> (returned by <code>FileSystems.getDefault()</code>), but this is a powerful
concept that allows for more advanced use cases.</p>
<p>My favorite use case for this abstraction is leveraging an in-memory file system
like <a href="https://github.com/google/jimfs">google/jimfs</a>. This can be particularly
useful for speeding up automated tests that perform a lot of file system
operations with small files, because the in-memory file system is so much faster
than a file system on disk.</p>
<p>Consider this test set-up example that injects an in-memory file system into a
class <code>MyDocumentManager</code> that performs a lot of file system operations.</p>
<pre class="grvsc-container solarized-light grvsc-mm-t6zo1R" data-language="java" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">class</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-4">MyDocumentManagerTest</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">  </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">private</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">FileSystem</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">fs</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">  </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">private</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">MyDocumentManager</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">documents</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">  @</span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">Before</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">  </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">void</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">before</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">    fs </span><span class="grvsc-tiaGIi-8 grvsc-t6zo1R-9">=</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">Jimfs</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">.</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">newFileSystem</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">(</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">Configuration</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">.</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">unix</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">());</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">    </span><span class="grvsc-tiaGIi-3 grvsc-tiaGIi-i grvsc-t6zo1R-3 grvsc-t6zo1R-i">// inject in-memory file system into MyDocumentManager for testing</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">    documents </span><span class="grvsc-tiaGIi-8 grvsc-t6zo1R-9">=</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-8 grvsc-t6zo1R-9">new</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">MyDocumentManager</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">(fs);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">  @</span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">After</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">  </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">void</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">after</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">    </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">fs</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">.</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">close</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">}</span></span></span></code></pre>
<p>Cloud storage is another good use case for this abstraction. Google Cloud‚Äôs
<a href="https://cloud.google.com/java/docs/reference/google-cloud-nio/latest/com.google.cloud.storage.contrib.nio">com.google.cloud.storage.contrib.nio</a>
package makes available a Google Cloud Storage backed <code>FileSystem</code>. With this
implementation, Java programs can access data in Google Cloud Storage with the
same APIs they use to access files on disk.</p>
<pre class="grvsc-container solarized-light grvsc-mm-t6zo1R" data-language="java" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">Path</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">path</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-8 grvsc-t6zo1R-9">=</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">Paths</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">.</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">get</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">(</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">URI</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">.</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">create</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">(</span><span class="grvsc-tiaGIi-11 grvsc-t6zo1R-12">&quot;gs://bucket/lolcat.csv&quot;</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">List</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">&lt;</span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">String</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">&gt; </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">lines</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-8 grvsc-t6zo1R-9">=</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">Files</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">.</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">readAllLines</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">(path, </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">StandardCharsets</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">.</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">UTF_8</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">);</span></span></span></code></pre>
<p>To benefit most from this abstraction, developers must be mindful not to
inadvertently couple their code to the default file system. This coupling
happens when users call APIs that reference the static global
<code>FileSystems.getDefault()</code>. Typically, this happens inadvertently via other
static accessors like <code>Path.of</code>:</p>
<pre class="grvsc-container solarized-light grvsc-mm-t6zo1R" data-language="java" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">class</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-4">MyDocumentManager</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">  </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">private</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">String</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">root</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">  </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">public</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">void</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">save</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">(</span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">String</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> name, </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">InputStream</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> is) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">    </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">var</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">path</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-8 grvsc-t6zo1R-9">=</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">Path</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">.</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">of</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">(root, name); </span><span class="grvsc-tiaGIi-3 grvsc-tiaGIi-i grvsc-t6zo1R-3 grvsc-t6zo1R-i">// ‚ö†Ô∏è Inadvertently couples to default file system</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">    </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">Files</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">.</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">copy</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">(is, path);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">}</span></span></span></code></pre>
<p>Instead, developers should apply good inversion of control practices when
working with the file system. That is, prefer to inject a root <code>Path</code> or
<code>FileSystem</code> instead of obtaining a reference from a static accessor:</p>
<pre class="grvsc-container solarized-light grvsc-mm-t6zo1R" data-language="java" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">class</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-4">MyDocumentManager</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">  </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">private</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">Path</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">root</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">  </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">public</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">void</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">save</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">(</span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">String</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> name, </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">InputStream</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> is) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">    </span><span class="grvsc-tiaGIi-13 grvsc-tiaGIi-b grvsc-t6zo1R-1 grvsc-t6zo1R-b">var</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">path</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-8 grvsc-t6zo1R-9">=</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1"> </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">root</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">.</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">resolve</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">(name); </span><span class="grvsc-tiaGIi-3 grvsc-tiaGIi-i grvsc-t6zo1R-3 grvsc-t6zo1R-i">// ‚úÖ resolves relative to injected Path root</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">    </span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">Files</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">.</span><span class="grvsc-tiaGIi-7 grvsc-t6zo1R-7">copy</span><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">(is, path);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tiaGIi-1 grvsc-t6zo1R-1">}</span></span></span></code></pre>
<p>In the second example, the <code>MyDocumentManager</code> type is not coupled to any
particular <code>FileSystem</code>; rather, it uses whatever <code>FileSystem</code> the injected
<code>Path</code> root belongs to.</p>
<h2>Misc</h2>
<p>There are a handful of other benefits to the <code>java.nio.file</code> APIs that I‚Äôll
succinctly list here:</p>
<ul>
<li>Processing directory listings as a <code>Stream</code></li>
<li>Convenience methods for reading files e.g. <code>Files.lines(Path)</code>,
<code>newInputStream(Path)</code>, and <code>newBufferedReader(Path)</code>.</li>
<li>Watching directories and files for changes.</li>
<li>Matching file paths to a pattern (e.g. globbing).</li>
</ul>
<p>One day, I‚Äôll find the time to expand these bullets into proper headings of
their own.</p>
<h2>Conclusion</h2>
<p>The <code>java.nio.file</code> APIs are not new, but they are to many developers accustomed
to using <code>java.io.File</code>. In this article, we explored a handful of reasons why
developers should prefer to use <code>java.nio.file</code> instead of <code>java.io.File</code> for
file system access on their next Java project.</p>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
  .solarized-light { background-color: #FDF6E3; }
  .solarized-light .grvsc-tiaGIi-i { font-style: italic; }
  .solarized-light .grvsc-tiaGIi-b { font-weight: bold; }
  .solarized-light .grvsc-tiaGIi-13 { color: #073642; }
  .solarized-light .grvsc-tiaGIi-1 { color: #657B83; }
  .solarized-light .grvsc-tiaGIi-7 { color: #268BD2; }
  .solarized-light .grvsc-tiaGIi-8 { color: #859900; }
  .solarized-light .grvsc-tiaGIi-11 { color: #2AA198; }
  .solarized-light .grvsc-tiaGIi-3 { color: #93A1A1; }
  .solarized-light .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));
  }
  
  /* Solarized Dark */
  @media (prefers-color-scheme: dark) {
    .grvsc-mm-t6zo1R { background-color: #002B36; }
    .grvsc-mm-t6zo1R .grvsc-t6zo1R-i { font-style: italic; }
    .grvsc-mm-t6zo1R .grvsc-t6zo1R-b { font-weight: bold; }
    .grvsc-mm-t6zo1R .grvsc-t6zo1R-1 { color: #93A1A1; }
    .grvsc-mm-t6zo1R .grvsc-t6zo1R-7 { color: #268BD2; }
    .grvsc-mm-t6zo1R .grvsc-t6zo1R-9 { color: #859900; }
    .grvsc-mm-t6zo1R .grvsc-t6zo1R-12 { color: #2AA198; }
    .grvsc-mm-t6zo1R .grvsc-t6zo1R-3 { color: #657B83; }
    .grvsc-mm-t6zo1R .grvsc-t6zo1R-4 { color: #CB4B16; }
    .grvsc-mm-t6zo1R .grvsc-line-highlighted::before {
      background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));
      box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));
    }
  }
</style></section><hr style="margin-bottom:1.78rem"/><footer><div style="display:flex;margin-bottom:4.45rem"><div data-gatsby-image-wrapper="" style="position:relative;overflow:hidden;width:50px;height:50px;margin-right:0.89rem;margin-bottom:0;min-width:50px;border-radius:100%" class="gatsby-image-wrapper"><div aria-hidden="true" data-placeholder-image="" style="height:100%;left:0;position:absolute;top:0;width:100%"></div><picture><source type="image/webp" data-srcset="/static/22d7c60e65a56e5da11fd167da768779/dbc4a/profile-pic.webp 50w,/static/22d7c60e65a56e5da11fd167da768779/d8057/profile-pic.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" data-main-image="" style="height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;border-radius:50%;opacity:0" sizes="50px" decoding="async" loading="lazy" data-src="/static/22d7c60e65a56e5da11fd167da768779/6ac16/profile-pic.jpg" data-srcset="/static/22d7c60e65a56e5da11fd167da768779/6ac16/profile-pic.jpg 50w,/static/22d7c60e65a56e5da11fd167da768779/e07e1/profile-pic.jpg 100w" alt="Johnathan Gilday"/></picture><noscript><picture><source type="image/webp" srcSet="/static/22d7c60e65a56e5da11fd167da768779/dbc4a/profile-pic.webp 50w,/static/22d7c60e65a56e5da11fd167da768779/d8057/profile-pic.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" data-main-image="" style="height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;border-radius:50%;opacity:0" sizes="50px" decoding="async" loading="lazy" src="/static/22d7c60e65a56e5da11fd167da768779/6ac16/profile-pic.jpg" srcSet="/static/22d7c60e65a56e5da11fd167da768779/6ac16/profile-pic.jpg 50w,/static/22d7c60e65a56e5da11fd167da768779/e07e1/profile-pic.jpg 100w" alt="Johnathan Gilday"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p>Written by<!-- --> <strong><a href="/">Johnathan Gilday</a></strong>. <!-- -->Red Bank, NJ, USA based software developer.</p></div></footer></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/blog/stream-stax/">‚Üê <!-- -->‚òïÔ∏è Connecting Java&#x27;s Streaming API for XML (StAX) with Streams</a></li><li><a rel="next" href="/blog/fight-the-spammers/">üìß Fight the Spammers<!-- --> ‚Üí</a></li></ul></nav></main><footer>¬© <!-- -->2025<!-- -->, <!-- -->Johnathan Gilday<!-- --> </footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-E3KXE45ML7"></script><script>
      
      
      if(!(navigator.doNotTrack == "1" || window.doNotTrack == "1")) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-E3KXE45ML7', {"anonymize_ips":true,"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/java-nio-files/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-7e0fc212cfa9dd5d342d.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-a1a4d2a112703f6cc7e8.js\"],\"component---src-pages-blog-tsx\":[\"/component---src-pages-blog-tsx-82d777427dabcbc6eac5.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-b9e7e8945d25eb738e0a.js\"],\"component---src-pages-resume-tsx\":[\"/component---src-pages-resume-tsx-1df92d269bdb74e5a892.js\"],\"component---src-templates-blog-post-js\":[\"/component---src-templates-blog-post-js-ad64d9c9707e228f69ed.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="f5d92446512b38f643cb";</script><script src="/webpack-runtime-903c1c9e88b35fe02b86.js" async></script><script src="/framework-6075b4dc61d6609a7a2a.js" async></script><script src="/app-7e0fc212cfa9dd5d342d.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>